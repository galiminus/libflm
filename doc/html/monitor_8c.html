<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libflm: src/monitor.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libflm&#160;<span id="projectnumber">0.2.0</span></div>
   <div id="projectbrief">A simple event-driven IO library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>src/monitor.c File Reference</h1>  </div>
</div>
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &quot;flm/core/private/alloc.h&quot;</code><br/>
<code>#include &quot;flm/core/private/monitor.h&quot;</code><br/>
<code>#include &quot;flm/core/private/epoll.h&quot;</code><br/>
<code>#include &quot;flm/core/private/obj.h&quot;</code><br/>
<code>#include &quot;flm/core/private/select.h&quot;</code><br/>
<code>#include &quot;flm/core/private/timer.h&quot;</code><br/>
<code>#include &quot;config.h&quot;</code><br/>
</div>
<p><a href="monitor_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#ae5b692ee05977457f803f09dac3c1ce1">flm__setMonitorDefaultTmSize</a> (size_t tm_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a0e60441b1c88a5d81ae5cdd29892d43d">flm__setMonitorDefaultTmRes</a> (uint32_t tm_res)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a7ed78ed6c149b4ce49f328d09e09b1c9">flm__setMonitorClockGettime</a> (int(*handler)(clockid_t, struct timespec *))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a7ccd65eff9fb2fdaf0ef71304bad71fb">flm__setMonitorBackend</a> (enum flm__MonitorBackend backend)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a9ac7adccec16433fe0acbc6a9570aec9">flm_MonitorNew</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#ae0cdcfb013a0acca6b1e740d5d4086b7">flm_MonitorWait</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a57b7e8cb44d00e8c53e0c6db9fcb7187">flm_MonitorRetain</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a8a00c66f9e90881a0ef4623ec0dbd9ad">flm_MonitorRelease</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a154667c7d6acb416b45b8148c60cf527">flm__MonitorInit</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a114df47a3309f0d28a485730b8bd5014">flm__MonitorPerfDestruct</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#ac0e55ef215cac3ceb10c3db32089f99c">flm__MonitorIOAdd</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#ac9fde51bb38d8191c21691888442c47b">flm__MonitorIODelete</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a1ccbcea143786e693824be7af45c9978">flm__MonitorIOReset</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *io)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#ab38398b47f33e27129ebba2af4c769ed">flm__MonitorTimerTick</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#aa1b19c2b8125e24a7b2d02fc17429c0f">flm__MonitorTimerAdd</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *timer, uint32_t msdelay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a533feac655f5fe7b0a1260e15c9afcdc">flm__MonitorTimerDelete</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *timer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#adadd1364197ee944229f676d4b38ae80">flm__MonitorTimerReset</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor, <a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *timer, uint32_t delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#abc1b6d6686e2bd4aad098f1c810a9d9e">flm__MonitorTimerRearm</a> (<a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *monitor)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a> )(clockid_t, struct timespec *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a8b08fbfdad85748f2a4fb55d2e6b1904">_flm_MonitorDefaultTmSize</a> = FLM__MONITOR_TM_WHEEL_SIZE</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#a8ff22d6f7a754ab73055434bf15a2cd8">_flm_MonitorDefaultTmRes</a> = FLM__MONITOR_TM_RES</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum flm__MonitorBackend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a></td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a154667c7d6acb416b45b8148c60cf527"></a><!-- doxytag: member="monitor.c::flm__MonitorInit" ref="a154667c7d6acb416b45b8148c60cf527" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flm__MonitorInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Action callbacks</p>
<p>Number of monitored IO</p>
<p>Number of monitored timers</p>
<p>Set default clock_gettime()</p>
<p>Set the current time for the timer wheel</p>
<p>How much milliseconds until the next timer has to be triggered</p>
<p>Size of the timer wheel</p>
<p>Resolution of the timer wheel</p>
<p>Current tick</p>
<p>Allocate the wheel itself</p>
<p>Initialize IO list</p>
<p>Create all the timer wheel slots</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00124">124</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">size_t</span> count;

    <a class="code" href="obj_8c.html#a198feff53eb6de21612f2491bc3686af">flm__ObjInit</a> ((<a class="code" href="obj_8h.html#a06d6af323c74441b131bdec66c72f531">flm_Obj</a> *) monitor);

    ((<a class="code" href="obj_8h.html#a06d6af323c74441b131bdec66c72f531">flm_Obj</a> *)(monitor))-&gt;type = FLM__TYPE_MONITOR;

    ((<a class="code" href="obj_8h.html#a06d6af323c74441b131bdec66c72f531">flm_Obj</a> *)(monitor))-&gt;perf.destruct =                     \
        (flm__ObjPerfDestruct_f) <a class="code" href="monitor_8c.html#a114df47a3309f0d28a485730b8bd5014">flm__MonitorPerfDestruct</a>;

    monitor-&gt;add            =       NULL;
    monitor-&gt;del            =       NULL;
    monitor-&gt;reset          =       NULL;
    monitor-&gt;wait           =       NULL;

    monitor-&gt;io.count       =   0;

    monitor-&gt;tm.count       =   0;

    <span class="keywordflow">if</span> (<a class="code" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a> == NULL) {
        <a class="code" href="monitor_8c.html#a7ed78ed6c149b4ce49f328d09e09b1c9">flm__setMonitorClockGettime</a> (clock_gettime);
    }

    <span class="keywordflow">if</span> (<a class="code" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a> (CLOCK_MONOTONIC, &amp;(monitor-&gt;tm.current)) == -1) {
        <span class="keywordflow">return</span> (-1);
    }

    monitor-&gt;tm.next    =       -1;

    monitor-&gt;tm.size    =       <a class="code" href="monitor_8c.html#a8b08fbfdad85748f2a4fb55d2e6b1904">_flm_MonitorDefaultTmSize</a>;

    monitor-&gt;tm.res     =       <a class="code" href="monitor_8c.html#a8ff22d6f7a754ab73055434bf15a2cd8">_flm_MonitorDefaultTmRes</a>;

    monitor-&gt;tm.pos     =       0;

    monitor-&gt;tm.wheel   =       <a class="code" href="alloc_8c.html#aa9979f334876af9bcbe4c57c68a94cbb">flm__Alloc</a> (<span class="keyword">sizeof</span> (*monitor-&gt;tm.wheel) *
                                            monitor-&gt;tm.size);
    <span class="keywordflow">if</span> (monitor-&gt;tm.wheel == NULL) {
        <span class="keywordflow">return</span> (-1);
    }

    TAILQ_INIT (&amp;(monitor-&gt;io.list));

    <span class="keywordflow">for</span> (count = 0; count &lt; monitor-&gt;tm.size; count++) {
        TAILQ_INIT (&amp;(monitor-&gt;tm.wheel[count]));
    }
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac0e55ef215cac3ceb10c3db32089f99c"></a><!-- doxytag: member="monitor.c::flm__MonitorIOAdd" ref="ac0e55ef215cac3ceb10c3db32089f99c" args="(flm_Monitor *monitor, flm_IO *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flm__MonitorIOAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00231">231</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (monitor-&gt;add &amp;&amp; monitor-&gt;add (monitor, io) == -1) {
        <span class="keywordflow">return</span> (-1);
    }

    TAILQ_INSERT_TAIL (&amp;(monitor-&gt;io.list), io, entries);
    <a class="code" href="io_8h.html#a6329ed93b6eb18e42e968aac19bc24f9">flm_IORetain</a> (io);

    monitor-&gt;io.count++;
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="ac9fde51bb38d8191c21691888442c47b"></a><!-- doxytag: member="monitor.c::flm__MonitorIODelete" ref="ac9fde51bb38d8191c21691888442c47b" args="(flm_Monitor *monitor, flm_IO *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorIODelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00246">246</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (monitor-&gt;del) {
        monitor-&gt;del (monitor, io);
    }

    TAILQ_REMOVE (&amp;(monitor-&gt;io.list), io, entries);
    <a class="code" href="io_8h.html#ad046ca12dad9998ea32fb977b93a26b0">flm_IORelease</a> (io);

    monitor-&gt;io.count--;
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a1ccbcea143786e693824be7af45c9978"></a><!-- doxytag: member="monitor.c::flm__MonitorIOReset" ref="a1ccbcea143786e693824be7af45c9978" args="(flm_Monitor *monitor, flm_IO *io)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flm__MonitorIOReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *&#160;</td>
          <td class="paramname"><em>io</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00261">261</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">if</span> (monitor-&gt;reset &amp;&amp; monitor-&gt;reset (monitor, io) == -1) {
        <span class="keywordflow">return</span> (-1);
    }
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a114df47a3309f0d28a485730b8bd5014"></a><!-- doxytag: member="monitor.c::flm__MonitorPerfDestruct" ref="a114df47a3309f0d28a485730b8bd5014" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorPerfDestruct </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00211">211</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordtype">size_t</span>      pos;
    <a class="code" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> * timer;
    <a class="code" href="io_8h.html#acd3fd8ef9f4a34e935082468bbf981da">flm_IO</a> *    io;

    <span class="keywordflow">for</span> (pos = 0; pos &lt; monitor-&gt;tm.size; pos++) {
        TAILQ_FOREACH (timer, &amp;(monitor-&gt;tm.wheel[pos]), wh.entries) {
            <a class="code" href="monitor_8c.html#a533feac655f5fe7b0a1260e15c9afcdc">flm__MonitorTimerDelete</a> (monitor, timer);
        }
    }
    <a class="code" href="alloc_8c.html#a1f23294fcb8f31fc82577872ac7bab12">flm__Free</a> (monitor-&gt;tm.wheel);

    TAILQ_FOREACH (io, &amp;(monitor-&gt;io.list), entries) {
        <a class="code" href="monitor_8c.html#ac9fde51bb38d8191c21691888442c47b">flm__MonitorIODelete</a> (monitor, io);
    }
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="aa1b19c2b8125e24a7b2d02fc17429c0f"></a><!-- doxytag: member="monitor.c::flm__MonitorTimerAdd" ref="aa1b19c2b8125e24a7b2d02fc17429c0f" args="(flm_Monitor *monitor, flm_Timer *timer, uint32_t msdelay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorTimerAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>msdelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Round the delay to match the timer wheel resolution</p>
<p>Get the number of rounds needed</p>
<p>Get the position in the wheel</p>
<p>And insert it</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00321">321</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t    delay;

    delay = msdelay / monitor-&gt;tm.res;

    timer-&gt;wh.rounds = delay / monitor-&gt;tm.size;

    timer-&gt;wh.pos = (monitor-&gt;tm.pos + delay) %      \
        monitor-&gt;tm.size;

    TAILQ_INSERT_TAIL (&amp;(monitor-&gt;tm.wheel[timer-&gt;wh.pos]), timer, wh.entries);
    <a class="code" href="timer_8h.html#a5d0212004288711ecfa7ca06b4baceb3">flm_TimerRetain</a> (timer);

    monitor-&gt;tm.count++;

    <a class="code" href="monitor_8c.html#abc1b6d6686e2bd4aad098f1c810a9d9e">flm__MonitorTimerRearm</a> (monitor);
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a533feac655f5fe7b0a1260e15c9afcdc"></a><!-- doxytag: member="monitor.c::flm__MonitorTimerDelete" ref="a533feac655f5fe7b0a1260e15c9afcdc" args="(flm_Monitor *monitor, flm_Timer *timer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorTimerDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Remove from the wheel</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00356">356</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    TAILQ_REMOVE (&amp;(monitor-&gt;tm.wheel[timer-&gt;wh.pos]), timer, wh.entries);
    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447">flm_TimerRelease</a> (timer);

    monitor-&gt;tm.count--;

    <a class="code" href="monitor_8c.html#abc1b6d6686e2bd4aad098f1c810a9d9e">flm__MonitorTimerRearm</a> (monitor);
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="abc1b6d6686e2bd4aad098f1c810a9d9e"></a><!-- doxytag: member="monitor.c::flm__MonitorTimerRearm" ref="abc1b6d6686e2bd4aad098f1c810a9d9e" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorTimerRearm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Read the wheel from now to find the next tick. XXX: optimise it</p>
<p>Wait forever</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00396">396</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    uint32_t            diff;
    <span class="keywordtype">bool</span>                empty;
    <a class="code" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *         timer;

    empty = <span class="keyword">true</span>;
    <span class="keywordflow">for</span> (diff = 0; diff &lt; monitor-&gt;tm.size; diff++) {
        timer = TAILQ_FIRST(&amp;(monitor-&gt;tm.wheel[(monitor-&gt;tm.pos + diff) %
                                                monitor-&gt;tm.size]));
        <span class="keywordflow">if</span> (timer) {
            empty = <span class="keyword">false</span>;
            <span class="keywordflow">if</span> (timer-&gt;wh.rounds == 0) {
                break ;
            }
        }
    }
    <span class="keywordflow">if</span> (empty) {
        monitor-&gt;tm.next = -1;
    }
    <span class="keywordflow">else</span> {
        monitor-&gt;tm.next = diff * monitor-&gt;tm.res;
    }
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="adadd1364197ee944229f676d4b38ae80"></a><!-- doxytag: member="monitor.c::flm__MonitorTimerReset" ref="adadd1364197ee944229f676d4b38ae80" args="(flm_Monitor *monitor, flm_Timer *timer, uint32_t delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__MonitorTimerReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *&#160;</td>
          <td class="paramname"><em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>Retain the timer to avoid its freeing by <a class="el" href="monitor_8c.html#a533feac655f5fe7b0a1260e15c9afcdc">flm__MonitorTimerDelete()</a></p>
<p>Delete then add to move the timer to its new position</p>
<p>Release the timer since it was retained by the monitor</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00373">373</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="timer_8h.html#a5d0212004288711ecfa7ca06b4baceb3">flm_TimerRetain</a> (timer);

    <a class="code" href="monitor_8c.html#a533feac655f5fe7b0a1260e15c9afcdc">flm__MonitorTimerDelete</a> (monitor, timer);
    <a class="code" href="monitor_8c.html#aa1b19c2b8125e24a7b2d02fc17429c0f">flm__MonitorTimerAdd</a> (monitor, timer, delay);

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447">flm_TimerRelease</a> (timer);
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ab38398b47f33e27129ebba2af4c769ed"></a><!-- doxytag: member="monitor.c::flm__MonitorTimerTick" ref="ab38398b47f33e27129ebba2af4c769ed" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flm__MonitorTimerTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00271">271</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keyword">struct </span>timespec     current;
    uint32_t            diff;
    uint32_t            curpos;
    uint32_t            pos;

    <a class="code" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a> *         timer;
    <span class="keyword">struct </span><a class="code" href="timer_8h.html#aa7c01a65fdc49f1daf578ab4f3421cb4">flm_Timer</a>    temp;

    <span class="keywordflow">if</span> (<a class="code" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a> (CLOCK_MONOTONIC, &amp;current) == -1) {
        <span class="keywordflow">return</span> (-1);
    }

    diff = (((current.tv_sec * 1000) +
             (current.tv_nsec / 1000000)) -
            ((monitor-&gt;tm.current.tv_sec * 1000) +
             (monitor-&gt;tm.current.tv_nsec / 1000000))) / monitor-&gt;tm.res;

    curpos = monitor-&gt;tm.pos;

    monitor-&gt;tm.current = current;
    monitor-&gt;tm.pos = (curpos + diff) % monitor-&gt;tm.size;

    <span class="keywordflow">for</span> (pos = 0; pos &lt;= diff; pos++) {
        TAILQ_FOREACH (timer,
                       &amp;(monitor-&gt;tm.wheel[(curpos + pos) %
                                           monitor-&gt;tm.size]),
                       wh.entries) {
            <span class="keywordflow">if</span> (timer-&gt;wh.rounds &gt; 0) {
                timer-&gt;wh.rounds--;
                continue ;
                
            }
            temp.wh.entries = timer-&gt;wh.entries;
            
            <a class="code" href="timer_8h.html#a5d0212004288711ecfa7ca06b4baceb3">flm_TimerRetain</a> (timer);
            <a class="code" href="timer_8h.html#a4bf56d6f81f12777bdb2d1695c088f7a">flm_TimerCancel</a> (timer);
            <span class="keywordflow">if</span> (timer-&gt;handler) {
                timer-&gt;handler (timer, timer-&gt;state);
            }
            <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447">flm_TimerRelease</a> (timer);
            timer = &amp;temp;
        }
    }
    <a class="code" href="monitor_8c.html#abc1b6d6686e2bd4aad098f1c810a9d9e">flm__MonitorTimerRearm</a> (monitor);
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ccd65eff9fb2fdaf0ef71304bad71fb"></a><!-- doxytag: member="monitor.c::flm__setMonitorBackend" ref="a7ccd65eff9fb2fdaf0ef71304bad71fb" args="(enum flm__MonitorBackend backend)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__setMonitorBackend </td>
          <td>(</td>
          <td class="paramtype">enum flm__MonitorBackend&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00055">55</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a> = backend;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a7ed78ed6c149b4ce49f328d09e09b1c9"></a><!-- doxytag: member="monitor.c::flm__setMonitorClockGettime" ref="a7ed78ed6c149b4ce49f328d09e09b1c9" args="(int(*handler)(clockid_t, struct timespec *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__setMonitorClockGettime </td>
          <td>(</td>
          <td class="paramtype">int(*)(clockid_t, struct timespec *)&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00049">49</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a> = handler;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a0e60441b1c88a5d81ae5cdd29892d43d"></a><!-- doxytag: member="monitor.c::flm__setMonitorDefaultTmRes" ref="a0e60441b1c88a5d81ae5cdd29892d43d" args="(uint32_t tm_res)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__setMonitorDefaultTmRes </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tm_res</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00043">43</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="monitor_8c.html#a8ff22d6f7a754ab73055434bf15a2cd8">_flm_MonitorDefaultTmRes</a> = tm_res;
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae5b692ee05977457f803f09dac3c1ce1"></a><!-- doxytag: member="monitor.c::flm__setMonitorDefaultTmSize" ref="ae5b692ee05977457f803f09dac3c1ce1" args="(size_t tm_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm__setMonitorDefaultTmSize </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>tm_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00037">37</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="monitor_8c.html#a8b08fbfdad85748f2a4fb55d2e6b1904">_flm_MonitorDefaultTmSize</a> = tm_size;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a9ac7adccec16433fe0acbc6a9570aec9"></a><!-- doxytag: member="monitor.c::flm_MonitorNew" ref="a9ac7adccec16433fe0acbc6a9570aec9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a>* flm_MonitorNew </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00061">61</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> * monitor;

    <span class="keywordflow">if</span> (<a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a> == FLM__MONITOR_BACKEND_AUTO) {
        <span class="keywordflow">if</span> (HAVE_EPOLL_CTL) {
            <a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a> = FLM__MONITOR_BACKEND_EPOLL;
        }
        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (HAVE_SELECT) {
            <a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a> = FLM__MONITOR_BACKEND_SELECT;
        }
        <span class="keywordflow">else</span> {
            <a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a> = FLM__MONITOR_BACKEND_NONE;
        }
    }

    <span class="keywordflow">switch</span> (<a class="code" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a>) {
    <span class="keywordflow">case</span> FLM__MONITOR_BACKEND_EPOLL:
        monitor = ((<a class="code" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *)(<a class="code" href="epoll_8c.html#a321014a07fe84e212e76c2579d0ea438">flm__EpollNew</a> ()));
        break ;
    <span class="keywordflow">case</span> FLM__MONITOR_BACKEND_SELECT:
        monitor = ((<a class="code" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *)(<a class="code" href="select_8c.html#ad71e4472f5b31960dfb473ca8db3e28e">flm__SelectNew</a> ()));
        break ;
    <span class="keywordflow">default</span>:
        monitor = NULL;
    }

    <span class="keywordflow">return</span> (monitor);
}
</pre></div>
</div>
</div>
<a class="anchor" id="a8a00c66f9e90881a0ef4623ec0dbd9ad"></a><!-- doxytag: member="monitor.c::flm_MonitorRelease" ref="a8a00c66f9e90881a0ef4623ec0dbd9ad" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flm_MonitorRelease </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00117">117</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <a class="code" href="obj_8c.html#a945a39c1ea76e1055163ba72e3a2a4d1">flm__Release</a> ((<a class="code" href="obj_8h.html#a06d6af323c74441b131bdec66c72f531">flm_Obj</a> *) monitor);
    return ;
}
</pre></div>
</div>
</div>
<a class="anchor" id="a57b7e8cb44d00e8c53e0c6db9fcb7187"></a><!-- doxytag: member="monitor.c::flm_MonitorRetain" ref="a57b7e8cb44d00e8c53e0c6db9fcb7187" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a>* flm_MonitorRetain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00111">111</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">return</span> (<a class="code" href="obj_8c.html#aba363d16627409b2f2aad4270292dec2">flm__Retain</a> ((<a class="code" href="obj_8h.html#a06d6af323c74441b131bdec66c72f531">flm_Obj</a> *) monitor));
}
</pre></div>
</div>
</div>
<a class="anchor" id="ae0cdcfb013a0acca6b1e740d5d4086b7"></a><!-- doxytag: member="monitor.c::flm_MonitorWait" ref="ae0cdcfb013a0acca6b1e740d5d4086b7" args="(flm_Monitor *monitor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flm_MonitorWait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="monitor_8h.html#a4dbc134cf7b201482c4cd40297937c83">flm_Monitor</a> *&#160;</td>
          <td class="paramname"><em>monitor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p><p>The monitor will wait until a fatal error occurs or there is no more IO to wait for.</p>
</p>

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00092">92</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>
<div class="fragment"><pre class="fragment">{
    <span class="keywordflow">while</span> ((monitor-&gt;tm.count + monitor-&gt;io.count) &gt; 0) {
        <span class="keywordflow">if</span> (monitor-&gt;wait &amp;&amp; monitor-&gt;wait (monitor)) {
            <span class="keywordflow">return</span> (-1);
        }

        <span class="keywordflow">if</span> (<a class="code" href="monitor_8c.html#ab38398b47f33e27129ebba2af4c769ed">flm__MonitorTimerTick</a> (monitor) == -1) {
            <span class="keywordflow">return</span> (-1);
        }
    }
    <span class="keywordflow">return</span> (0);
}
</pre></div>
</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="af3e0fa0a665ed154d04f911ebf3f898f"></a><!-- doxytag: member="monitor.c::_flm__MonitorBackend" ref="af3e0fa0a665ed154d04f911ebf3f898f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum flm__MonitorBackend <a class="el" href="monitor_8c.html#af3e0fa0a665ed154d04f911ebf3f898f">_flm__MonitorBackend</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00034">34</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8ff22d6f7a754ab73055434bf15a2cd8"></a><!-- doxytag: member="monitor.c::_flm_MonitorDefaultTmRes" ref="a8ff22d6f7a754ab73055434bf15a2cd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t <a class="el" href="monitor_8c.html#a8ff22d6f7a754ab73055434bf15a2cd8">_flm_MonitorDefaultTmRes</a> = FLM__MONITOR_TM_RES</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00032">32</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8b08fbfdad85748f2a4fb55d2e6b1904"></a><!-- doxytag: member="monitor.c::_flm_MonitorDefaultTmSize" ref="a8b08fbfdad85748f2a4fb55d2e6b1904" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="monitor_8c.html#a8b08fbfdad85748f2a4fb55d2e6b1904">_flm_MonitorDefaultTmSize</a> = FLM__MONITOR_TM_WHEEL_SIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00031">31</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7a84d0206f0f819872d672edeeeffa01"></a><!-- doxytag: member="monitor.c::clockGettimeHandler" ref="a7a84d0206f0f819872d672edeeeffa01" args=")(clockid_t, struct timespec *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int(* <a class="el" href="monitor_8c.html#a7a84d0206f0f819872d672edeeeffa01">clockGettimeHandler</a>)(clockid_t, struct timespec *)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="monitor_8c_source.html#l00029">29</a> of file <a class="el" href="monitor_8c_source.html">monitor.c</a>.</p>

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Mon Mar 7 2011 for libflm by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>

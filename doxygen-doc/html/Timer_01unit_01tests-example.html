<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libflm-0.3: Timer unit tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="libflm.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.3 -->
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libflm-0.3&#160;<span id="projectnumber">0.3</span></div>
   <div id="projectbrief">A simple event-driven IO library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Timer unit tests</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;check.h&gt;</span>

<span class="preprocessor">#include &quot;flm/flm.h&quot;</span>

<span class="preprocessor">#include &quot;flm/core/private/monitor.h&quot;</span>
<span class="preprocessor">#include &quot;flm/core/private/timer.h&quot;</span>

<span class="preprocessor">#include &quot;test_utils.h&quot;</span>

START_TEST(test_timer_create)
{
    flm_Monitor * monitor;
    flm_Timer * timer;

    <span class="keywordflow">if</span> ((monitor = <a name="a0"></a><a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a name="a1"></a><a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor, NULL, NULL, 10)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }
}
END_TEST

START_TEST(test_timer_alloc_fail)
{
    flm_Monitor * monitor;

    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    setTestAlloc (1);
    fail_if (<a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor, NULL, NULL, 10) != NULL);
}
END_TEST

START_TEST(test_timer_destruct)
{
    flm_Monitor * monitor;
    flm_Timer * timer;

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor, NULL, NULL, 10)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }
    <a name="a2"></a><a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a name="a3"></a><a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);
}
END_TEST

<span class="keywordtype">int</span> _elapsed = 0;

<span class="keywordtype">void</span>
_timer_handler (flm_Timer * timer,
                <span class="keywordtype">void</span> * _state)
{
    (void) timer;

    fail_unless (_state == (<span class="keywordtype">void</span>*)42);
    _elapsed++;
}

START_TEST(test_timer_cancel)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler,
                               (<span class="keywordtype">void</span> *) 42,
                               2000)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a name="a4"></a><a class="code" href="timer_8h.html#a4bf56d6f81f12777bdb2d1695c088f7a" title="Cancel the timer.">flm_TimerCancel</a> (timer);
    <a name="a5"></a><a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &gt; 10);

    fail_if (_elapsed != 0);
}
END_TEST

START_TEST(test_timer_short)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler,
                               (<span class="keywordtype">void</span> *) 42,
                               monitor-&gt;tm.res * 2)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 1.90));
    fail_if (diff &gt; (monitor-&gt;tm.res * 2.10));

    fail_if (_elapsed != 1);
}
END_TEST

START_TEST(test_timer_long)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler,
                               (<span class="keywordtype">void</span> *) 42,
                               monitor-&gt;tm.res * 10)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 9.5));
    fail_if (diff &gt; (monitor-&gt;tm.res * 11.1));

    fail_if (_elapsed != 1);
}
END_TEST

START_TEST(test_timer_longer_than_wheel)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    flm__setMonitorDefaultTmSize (3);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler,
                               (<span class="keywordtype">void</span> *) 42,
                               monitor-&gt;tm.res * 10)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }
    fail_unless (timer-&gt;wh.rounds == 3);

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 9.5));
    fail_if (diff &gt; (monitor-&gt;tm.res * 11.1));

    fail_if (_elapsed != 1);
}
END_TEST

START_TEST(test_timer_reset)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler,
                               (<span class="keywordtype">void</span> *) 42,
                               monitor-&gt;tm.res * 2)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }

    <a name="a6"></a><a class="code" href="timer_8h.html#a0550f46fd2ded57e898360876210eec6" title="Reset the timer.">flm_TimerReset</a> (timer, monitor-&gt;tm.res * 4);

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 3.90));
    fail_if (diff &gt; (monitor-&gt;tm.res * 4.10));

    fail_if (_elapsed != 1);
}
END_TEST

START_TEST(test_timer_multiple)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;
    <span class="keywordtype">int</span>                 count;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <span class="keywordflow">for</span> (count = 0; count &lt; 100; count++) {
        usleep (2000);
        <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                                   _timer_handler,
                                   (<span class="keywordtype">void</span> *) 42,
                                   monitor-&gt;tm.res * 2)) == NULL) {
            fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
        }
        <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 1.50) + 200);
    fail_if (diff &gt; (monitor-&gt;tm.res * 2.50) + 200);

    fail_if (_elapsed != count);
}
END_TEST

<span class="keywordtype">void</span>
_timer_handler_reset (flm_Timer * timer,
                      <span class="keywordtype">void</span> * _monitor)
{
    flm_Monitor * monitor = _monitor;

    <span class="keywordflow">if</span> (_elapsed == 0) {
        <a class="code" href="timer_8h.html#a0550f46fd2ded57e898360876210eec6" title="Reset the timer.">flm_TimerReset</a> (timer, monitor-&gt;tm.res * 2);
    }
    _elapsed++;
}

START_TEST(test_timer_reset_in_handler)
{
    flm_Monitor *       monitor;
    flm_Timer *         timer;
    <span class="keyword">struct </span>timeval      start;
    <span class="keyword">struct </span>timeval      end;
    <span class="keywordtype">int</span>                 diff;

    fail_if (_elapsed != 0);

    setTestAlloc (0);
    <span class="keywordflow">if</span> ((monitor = <a class="code" href="monitor_8h.html#a9ac7adccec16433fe0acbc6a9570aec9" title="Create a new flm_Monitor object.">flm_MonitorNew</a> ()) == NULL) {
        fail (<span class="stringliteral">&quot;Monitor creation failed&quot;</span>);
    }
    <span class="keywordflow">if</span> ((timer = <a class="code" href="timer_8h.html#af21a94f6ef9e64cc0ec4d47fef11d258" title="Create a new timer.">flm_TimerNew</a> (monitor,
                               _timer_handler_reset,
                               monitor, <span class="comment">/* state */</span>
                               monitor-&gt;tm.res * 2)) == NULL) {
        fail (<span class="stringliteral">&quot;Timer creation failed&quot;</span>);
    }

    <span class="keywordflow">if</span> (gettimeofday (&amp;start, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="monitor_8h.html#ae0cdcfb013a0acca6b1e740d5d4086b7" title="Wait for events.">flm_MonitorWait</a> (monitor);

    <span class="keywordflow">if</span> (gettimeofday (&amp;end, NULL) == -1) {
        fail (<span class="stringliteral">&quot;gettimeofday() failed&quot;</span>);
    }

    <a class="code" href="timer_8h.html#af24321f27e1afe647729a6342fb80447" title="Decrement the reference counter.">flm_TimerRelease</a> (timer);
    <a class="code" href="monitor_8h.html#a8a00c66f9e90881a0ef4623ec0dbd9ad" title="Decrement the reference counter.">flm_MonitorRelease</a> (monitor);
    fail_unless (getAllocSum () == 0);

    diff = (((end.tv_sec * 1000) + end.tv_usec / 1000) -
            ((start.tv_sec * 1000) + start.tv_usec / 1000));

    fail_if (diff &lt; (monitor-&gt;tm.res * 3.90));
    fail_if (diff &gt; (monitor-&gt;tm.res * 4.10));

    fail_if (_elapsed != 2);
}
END_TEST

Suite *
timer_suite (<span class="keywordtype">void</span>)
{
  Suite * s = suite_create (<span class="stringliteral">&quot;timer&quot;</span>);

  <span class="comment">/* Core test case */</span>
  TCase *tc_core = tcase_create (<span class="stringliteral">&quot;Timer&quot;</span>);
  tcase_add_test (tc_core, test_timer_create);
  tcase_add_test (tc_core, test_timer_alloc_fail);
  tcase_add_test (tc_core, test_timer_destruct);
  tcase_add_test (tc_core, test_timer_cancel);
  tcase_add_test (tc_core, test_timer_short);
  tcase_add_test (tc_core, test_timer_long);
  tcase_add_test (tc_core, test_timer_longer_than_wheel);
  tcase_add_test (tc_core, test_timer_multiple);
  tcase_add_test (tc_core, test_timer_reset);
  tcase_add_test (tc_core, test_timer_reset_in_handler);
  suite_add_tcase (s, tc_core);
  <span class="keywordflow">return</span> s;
}
</pre></div><div class="fragment"><pre class="fragment"></pre></div><p> unit tests </p>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Thu Mar 17 2011 for libflm-0.3 by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.3 </small></address>
</body>
</html>
